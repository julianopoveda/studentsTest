@{
    ViewBag.Title = "Home Page";
}

<script type="text/javascript">
    $(document).ready(function () {
        $("#allStudents").click(function () {
            $.ajax({
                url: "/Home/FindAllStudents",
                dataType: "json",
                success: function (data) {
                    buildGrid(data);
                }
            });
        });

        $("#topFiveStudents").click(function () {
            $.ajax({
                url: "/Home/FindStudents",
                data: {take : 5},
                dataType: "json",
                success: function (data) {
                    buildGrid(data);
                }
            });
        });

        $("#olderStudent").click(function () {
            $.ajax({
                url: "/Home/FindOlderStudent",
                dataType: "json",
                success: function (data) {
                    buildGrid(data);
                }
            });
        });

    });

    function buildGrid(dataGrid) {
        clearRows("#gridContent");
        var gridContent = $("#gridContent");
        var row = document.createElement("tr");
        for (var i = 0; i < dataGrid.length; i++) {
            var cloneRow = row.cloneNode();
            for(info in dataGrid[i])
            {
                var column = document.createElement("td");
                column.innerHTML = dataGrid[i][info];
                cloneRow.appendChild(column);
            }
            gridContent.append($(cloneRow));
        }
    }

    function clearRows(id)
    {
        var tbody = $(id + " tbody");
        tbody.empty();
    }

</script>

<style type="text/css">
    .gridContainer { min-height: 250px}
    table .jumbotron { min-width: 300px; width: 100%; }
</style>

<div id="gridLocal" class="gridContainer table-responsive">
    <table id="gridContent" class="table table-striped table-bordered">
        <thead>
            <tr>
                <td>Matrícula</td>
                <td>Nome</td>
                <td>Idade</td>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>


<div class="btn-group" role="group" aria-label="...">
    <div class="btn-group" role="group">
        <input type="button" class="btn btn-default" id="allStudents" value="Buscar Todos" />
    </div>
    <div class="btn-group" role="group">
        <input type="button" class="btn btn-default" id="topFiveStudents" value="Buscar 5" />
    </div>
    <div class="btn-group" role="group">
        <input type="button" class="btn btn-default" id="olderStudent" value="Buscar Mais Velho" />
    </div>
</div>
<div>



</div>